{"version":3,"sources":["../../src/components/InputField.tsx"],"names":["isEmptyOrNil","Utilities","ErrorInputContainer","View","INPUT_FIELD_THEME","fonts","medium","fontFamily","Fonts","TTCommons","regular","colors","primary","Colors","blue","error","disabled","newDimGrey","placeholder","text","black","roundness","Metrics","baseMargin","InputField","props","React","useState","icon","charcoalLightGrey","setColors","inputFieldRef","useRef","label","value","inputMode","onChangeHandler","setRef","undefined","onBlurHandler","onFocusHandler","onSubmitEditing","errorMessage","prefix","secureTextEntry","keyboardType","autoCapitalize","showInputLinkComponent","InputLinkComponent","rightIconName","rightIconComponent","multiLine","testId","inputFieldStyle","textProps","iconProps","leftCustomIcon","leftCustomIconProps","customErrorContainerStyle","iconColor","disabledText","useEffect","keyboardDidHide","APP_CONSTANTS","IS_ANDROID","Keyboard","dismiss","addListener","ShowPrefixComponent","marginTop","section","color","marginBottom","paddingRight","smallMargin","ShowRightIconComponent","backgroundColor","white","textAlign","val","newBlue","flex","alignItems"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Keyboard, View } from 'react-native';\nimport { TextInput } from 'react-native-paper';\nimport styled from 'styled-components/native';\nimport { isEmpty, path } from 'ramda';\nimport { If } from 'react-if';\n\nimport { APP_CONSTANTS, Colors, Fonts, Metrics, Utilities } from '../commons';\nimport { AppText } from './AppText';\nimport { InputFieldProps } from './types';\n\nconst { isEmptyOrNil } = Utilities;\n\ntype InputContainerProps = {\n  marginBottom?: number;\n  marginTop?: number;\n  paddingHorizontal?: number;\n};\nconst ErrorInputContainer = styled(View)<InputContainerProps>`\n  flex-direction: row;\n`;\n\nconst INPUT_FIELD_THEME = {\n  fonts: {\n    medium: {\n      fontFamily: Fonts.TTCommons.regular,\n    },\n  },\n  colors: {\n    primary: Colors.blue,\n    error: Colors.error,\n    disabled: Colors.newDimGrey,\n    placeholder: Colors.newDimGrey,\n    text: Colors.black,\n  },\n  roundness: Metrics.baseMargin,\n};\n\nexport const InputField = (props: InputFieldProps) => {\n  const [colors, setColors] = React.useState({ icon: Colors.charcoalLightGrey });\n  const inputFieldRef = React.useRef(null);\n  const {\n    label = '',\n    placeholder = '',\n    value = '',\n    inputMode = 'outlined',\n    disabled = false,\n    onChangeHandler,\n    setRef = undefined,\n    onBlurHandler = () => {},\n    onFocusHandler = () => {},\n    onSubmitEditing = () => {},\n    errorMessage = '',\n    prefix = '',\n    secureTextEntry = false,\n    keyboardType = 'default',\n    autoCapitalize = 'none',\n    showInputLinkComponent = false,\n    InputLinkComponent = () => <></>,\n    rightIconName = '',\n    rightIconComponent,\n    multiLine = false,\n    testId = '',\n\n    //styling props\n    inputFieldStyle,\n    textProps = {},\n    iconProps = {},\n    leftCustomIcon,\n    leftCustomIconProps = {},\n    customErrorContainerStyle = {},\n  } = props;\n\n  const iconColor = disabled ? Colors.disabledText : colors.icon;\n  React.useEffect(() => {\n    const keyboardDidHide = () => {\n      if (APP_CONSTANTS.IS_ANDROID) {\n        Keyboard.dismiss();\n        const onBlurHandler = path(['current', 'input', 'blur'], inputFieldRef) as Function;\n        if (typeof onBlurHandler === 'function') {\n          onBlurHandler();\n        }\n      }\n    };\n    Keyboard.addListener('keyboardDidHide', keyboardDidHide);\n  }, []);\n\n  const ShowPrefixComponent = () => {\n    if (leftCustomIcon) {\n      /* @ts-ignore */\n      return <TextInput.Icon name={leftCustomIcon} size={20} color={!isEmptyOrNil(errorMessage) ? Colors.error : iconColor} style={{ marginTop: inputMode === 'outlined' ? Metrics.baseMargin - 2 : Metrics.section }} {...leftCustomIconProps} />;\n    }\n    if (rightIconComponent) {\n      return rightIconComponent();\n    }\n\n    return !isEmptyOrNil(prefix) ? (\n      <TextInput.Affix text={prefix} textStyle={inputMode === 'outlined' ? { color: Colors.black } : { color: Colors.black, marginBottom: multiLine ? Metrics.baseMargin - 2 : 0, paddingRight: Metrics.smallMargin }} />\n    ) : null;\n  };\n  const ShowRightIconComponent = () => {\n    if (rightIconComponent) {\n      return rightIconComponent();\n    } else if (!isEmptyOrNil(rightIconName)) {\n      /* @ts-ignore */\n      return <TextInput.Icon name={rightIconName} size={20} color={!isEmptyOrNil(errorMessage) ? Colors.error : iconColor} style={{ marginTop: inputMode === 'outlined' ? Metrics.baseMargin - 2 : Metrics.section }} {...iconProps} />;\n    } else {\n      return null;\n    }\n  };\n\n  return (\n    <View style={inputFieldStyle}>\n      {/* @ts-ignore */}\n      <TextInput\n        theme={INPUT_FIELD_THEME}\n        accessibilityLabel={testId}\n        style={{ backgroundColor: Colors.white, textAlign: 'auto' }}\n        testID={testId}\n        ref={setRef || inputFieldRef}\n        placeholder={placeholder}\n        label={label}\n        value={value}\n        mode={inputMode}\n        error={!isEmptyOrNil(errorMessage) ? true : false}\n        disabled={disabled}\n        left={ShowPrefixComponent()}\n        right={ShowRightIconComponent()}\n        // right={<TextInput.Icon name={() => <Icon name={\"caretdown\"} />} />}\n        onChangeText={onChangeHandler}\n        onSubmitEditing={onSubmitEditing}\n        onBlur={val => {\n          !isEmptyOrNil(rightIconName) && setColors({ ...colors, icon: Colors.charcoalLightGrey });\n          onBlurHandler(val);\n        }}\n        onFocus={val => {\n          !isEmptyOrNil(rightIconName) && setColors({ ...colors, icon: Colors.newBlue });\n          onFocusHandler(val);\n        }}\n        secureTextEntry={secureTextEntry}\n        keyboardType={keyboardType}\n        autoCapitalize={autoCapitalize}\n        multiline={multiLine}\n        numberOfLines={multiLine ? 3 : 1} //For android only\n        maxFontSizeMultiplier={1.1}\n        returnKeyType={multiLine ? 'default' : 'done'}\n        {...textProps}\n      />\n      {/* TODO: this view should be conditional */}\n      <If condition={!isEmpty(errorMessage)}>\n        <ErrorInputContainer style={customErrorContainerStyle}>\n          <View style={{ flex: 1 }}>\n            <AppText kind=\"Error\" testID={`${testId}-error`} accessibilityLabel={`${testId}-error`}>\n              {errorMessage}\n            </AppText>\n          </View>\n        </ErrorInputContainer>\n      </If>\n      <If condition={showInputLinkComponent}>\n        <ErrorInputContainer style={customErrorContainerStyle}>\n          <View style={{ flex: 1, alignItems: 'flex-end' }}>\n            <InputLinkComponent />\n          </View>\n        </ErrorInputContainer>\n      </If>\n    </View>\n  );\n};\n"],"file":"InputField.js"}