var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.InputField=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _taggedTemplateLiteralLoose2=_interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteralLoose"));var React=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativePaper=require("react-native-paper");var _native=_interopRequireDefault(require("styled-components/native"));var _ramda=require("ramda");var _reactIf=require("react-if");var _commons=require("../commons");var _AppText=require("./AppText");var _templateObject,_this=this,_jsxFileName="/Users/anas.emum/twicapp-mobile-v2/src/TwicComponents/src/components/InputField.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var isEmptyOrNil=_commons.Utilities.isEmptyOrNil;var ErrorInputContainer=(0,_native.default)(_reactNative.View)(_templateObject||(_templateObject=(0,_taggedTemplateLiteralLoose2.default)(["\n  flex-direction: row;\n"])));var INPUT_FIELD_THEME={fonts:{medium:{fontFamily:_commons.Fonts.TTCommons.regular}},colors:{primary:_commons.Colors.blue,error:_commons.Colors.error,disabled:_commons.Colors.newDimGrey,placeholder:_commons.Colors.newDimGrey,text:_commons.Colors.black},roundness:_commons.Metrics.baseMargin};var InputField=function InputField(props){var _React$useState=React.useState({icon:_commons.Colors.charcoalLightGrey}),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),colors=_React$useState2[0],setColors=_React$useState2[1];var inputFieldRef=React.useRef(null);var _props$label=props.label,label=_props$label===void 0?'':_props$label,_props$placeholder=props.placeholder,placeholder=_props$placeholder===void 0?'':_props$placeholder,_props$value=props.value,value=_props$value===void 0?'':_props$value,_props$inputMode=props.inputMode,inputMode=_props$inputMode===void 0?'outlined':_props$inputMode,_props$disabled=props.disabled,disabled=_props$disabled===void 0?false:_props$disabled,onChangeHandler=props.onChangeHandler,_props$setRef=props.setRef,setRef=_props$setRef===void 0?undefined:_props$setRef,_props$onBlurHandler=props.onBlurHandler,onBlurHandler=_props$onBlurHandler===void 0?function(){}:_props$onBlurHandler,_props$onFocusHandler=props.onFocusHandler,onFocusHandler=_props$onFocusHandler===void 0?function(){}:_props$onFocusHandler,_props$onSubmitEditin=props.onSubmitEditing,onSubmitEditing=_props$onSubmitEditin===void 0?function(){}:_props$onSubmitEditin,_props$errorMessage=props.errorMessage,errorMessage=_props$errorMessage===void 0?'':_props$errorMessage,_props$prefix=props.prefix,prefix=_props$prefix===void 0?'':_props$prefix,_props$secureTextEntr=props.secureTextEntry,secureTextEntry=_props$secureTextEntr===void 0?false:_props$secureTextEntr,_props$keyboardType=props.keyboardType,keyboardType=_props$keyboardType===void 0?'default':_props$keyboardType,_props$autoCapitalize=props.autoCapitalize,autoCapitalize=_props$autoCapitalize===void 0?'none':_props$autoCapitalize,_props$showInputLinkC=props.showInputLinkComponent,showInputLinkComponent=_props$showInputLinkC===void 0?false:_props$showInputLinkC,_props$InputLinkCompo=props.InputLinkComponent,InputLinkComponent=_props$InputLinkCompo===void 0?function(){return React.createElement(React.Fragment,null);}:_props$InputLinkCompo,_props$rightIconName=props.rightIconName,rightIconName=_props$rightIconName===void 0?'':_props$rightIconName,rightIconComponent=props.rightIconComponent,_props$multiLine=props.multiLine,multiLine=_props$multiLine===void 0?false:_props$multiLine,_props$testId=props.testId,testId=_props$testId===void 0?'':_props$testId,inputFieldStyle=props.inputFieldStyle,_props$textProps=props.textProps,textProps=_props$textProps===void 0?{}:_props$textProps,_props$iconProps=props.iconProps,iconProps=_props$iconProps===void 0?{}:_props$iconProps,leftCustomIcon=props.leftCustomIcon,_props$leftCustomIcon=props.leftCustomIconProps,leftCustomIconProps=_props$leftCustomIcon===void 0?{}:_props$leftCustomIcon,_props$customErrorCon=props.customErrorContainerStyle,customErrorContainerStyle=_props$customErrorCon===void 0?{}:_props$customErrorCon;var iconColor=disabled?_commons.Colors.disabledText:colors.icon;React.useEffect(function(){var keyboardDidHide=function keyboardDidHide(){if(_commons.APP_CONSTANTS.IS_ANDROID){_reactNative.Keyboard.dismiss();var _onBlurHandler=(0,_ramda.path)(['current','input','blur'],inputFieldRef);if(typeof _onBlurHandler==='function'){_onBlurHandler();}}};_reactNative.Keyboard.addListener('keyboardDidHide',keyboardDidHide);},[]);var ShowPrefixComponent=function ShowPrefixComponent(){if(leftCustomIcon){return React.createElement(_reactNativePaper.TextInput.Icon,(0,_extends2.default)({name:leftCustomIcon,size:20,color:!isEmptyOrNil(errorMessage)?_commons.Colors.error:iconColor,style:{marginTop:inputMode==='outlined'?_commons.Metrics.baseMargin-2:_commons.Metrics.section}},leftCustomIconProps,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:91,columnNumber:14}}));}if(rightIconComponent){return rightIconComponent();}return!isEmptyOrNil(prefix)?React.createElement(_reactNativePaper.TextInput.Affix,{text:prefix,textStyle:inputMode==='outlined'?{color:_commons.Colors.black}:{color:_commons.Colors.black,marginBottom:multiLine?_commons.Metrics.baseMargin-2:0,paddingRight:_commons.Metrics.smallMargin},__self:_this,__source:{fileName:_jsxFileName,lineNumber:98,columnNumber:7}}):null;};var ShowRightIconComponent=function ShowRightIconComponent(){if(rightIconComponent){return rightIconComponent();}else if(!isEmptyOrNil(rightIconName)){return React.createElement(_reactNativePaper.TextInput.Icon,(0,_extends2.default)({name:rightIconName,size:20,color:!isEmptyOrNil(errorMessage)?_commons.Colors.error:iconColor,style:{marginTop:inputMode==='outlined'?_commons.Metrics.baseMargin-2:_commons.Metrics.section}},iconProps,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:106,columnNumber:14}}));}else{return null;}};return React.createElement(_reactNative.View,{style:inputFieldStyle,__self:_this,__source:{fileName:_jsxFileName,lineNumber:113,columnNumber:5}},React.createElement(_reactNativePaper.TextInput,(0,_extends2.default)({theme:INPUT_FIELD_THEME,accessibilityLabel:testId,style:{backgroundColor:_commons.Colors.white,textAlign:'auto'},testID:testId,ref:setRef||inputFieldRef,placeholder:placeholder,label:label,value:value,mode:inputMode,error:!isEmptyOrNil(errorMessage)?true:false,disabled:disabled,left:ShowPrefixComponent(),right:ShowRightIconComponent(),onChangeText:onChangeHandler,onSubmitEditing:onSubmitEditing,onBlur:function onBlur(val){!isEmptyOrNil(rightIconName)&&setColors((0,_extends2.default)({},colors,{icon:_commons.Colors.charcoalLightGrey}));onBlurHandler(val);},onFocus:function onFocus(val){!isEmptyOrNil(rightIconName)&&setColors((0,_extends2.default)({},colors,{icon:_commons.Colors.newBlue}));onFocusHandler(val);},secureTextEntry:secureTextEntry,keyboardType:keyboardType,autoCapitalize:autoCapitalize,multiline:multiLine,numberOfLines:multiLine?3:1,maxFontSizeMultiplier:1.1,returnKeyType:multiLine?'default':'done'},textProps,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:115,columnNumber:7}})),React.createElement(_reactIf.If,{condition:!(0,_ramda.isEmpty)(errorMessage),__self:_this,__source:{fileName:_jsxFileName,lineNumber:150,columnNumber:7}},React.createElement(ErrorInputContainer,{style:customErrorContainerStyle,__self:_this,__source:{fileName:_jsxFileName,lineNumber:151,columnNumber:9}},React.createElement(_reactNative.View,{style:{flex:1},__self:_this,__source:{fileName:_jsxFileName,lineNumber:152,columnNumber:11}},React.createElement(_AppText.AppText,{kind:"Error",testID:testId+"-error",accessibilityLabel:testId+"-error",__self:_this,__source:{fileName:_jsxFileName,lineNumber:153,columnNumber:13}},errorMessage)))),React.createElement(_reactIf.If,{condition:showInputLinkComponent,__self:_this,__source:{fileName:_jsxFileName,lineNumber:159,columnNumber:7}},React.createElement(ErrorInputContainer,{style:customErrorContainerStyle,__self:_this,__source:{fileName:_jsxFileName,lineNumber:160,columnNumber:9}},React.createElement(_reactNative.View,{style:{flex:1,alignItems:'flex-end'},__self:_this,__source:{fileName:_jsxFileName,lineNumber:161,columnNumber:11}},React.createElement(InputLinkComponent,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:162,columnNumber:13}})))));};exports.InputField=InputField;
//# sourceMappingURL=InputField.js.map